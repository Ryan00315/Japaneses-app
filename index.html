<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ—¥æ–‡é›²ç«¯ç­†è¨˜ Pro</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .card-flip { perspective: 1000px; }
        .card-inner { transition: transform 0.4s; transform-style: preserve-3d; cursor: pointer; }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-front, .card-back { backface-visibility: hidden; position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        .card-back { transform: rotateY(180deg); }
        .active-filter { background-color: #4f46e5 !important; color: white !important; }
        ::-webkit-scrollbar { display: none; }
        .sticky-top { position: sticky; top: 0; z-index: 50; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen pb-10 font-sans">

    <div class="sticky-top bg-gray-50/80 backdrop-blur-md px-4 py-3 border-b border-gray-200">
        <div class="max-w-md mx-auto relative">
            <input type="text" id="searchInput" oninput="renderList()" placeholder="ğŸ” æœå°‹å–®å­—æˆ–ä¸­æ–‡..." 
                   class="w-full p-3 pl-10 rounded-2xl bg-white shadow-sm border border-gray-100 outline-none focus:ring-2 ring-indigo-400 transition-all">
            <span class="absolute left-3 top-3.5 text-gray-400"></span>
        </div>
    </div>

    <div class="max-w-md mx-auto p-4">
        <header class="flex justify-between items-center mb-6">
            <h1 class="text-xl font-black text-indigo-600 tracking-tighter">æ—¥æ–‡å­¸ç¿’åŠ©æ‰‹</h1>
            <div class="flex gap-2">
                <button onclick="exportCSV()" class="text-xs bg-white border px-3 py-1.5 rounded-lg shadow-sm hover:bg-gray-50 font-bold text-gray-600">åŒ¯å‡º</button>
                <label class="text-xs bg-indigo-600 text-white px-3 py-1.5 rounded-lg shadow-sm cursor-pointer hover:bg-indigo-700 font-bold">
                    åŒ¯å…¥ <input type="file" id="csvInput" accept=".csv" class="hidden" onchange="importCSV(event)">
                </label>
            </div>
        </header>

        <div id="quiz-section" class="mb-8 hidden">
            <div class="card-flip h-56 w-full relative mb-4">
                <div id="quiz-card" onclick="this.classList.toggle('is-flipped')" class="card-inner w-full h-full shadow-2xl">
                    <div class="card-front bg-gradient-to-br from-indigo-600 to-indigo-700 text-white rounded-3xl flex flex-col items-center justify-center p-6 text-center">
                        <span id="quiz-q" class="text-5xl font-bold mb-4 tracking-wider"></span>
                        <button onclick="event.stopPropagation(); speak(document.getElementById('quiz-q').innerText)" 
                                class="bg-white/20 p-4 rounded-full hover:bg-white/30 transition-all backdrop-blur-sm">
                            <span class="text-2xl">ğŸ”Š</span>
                        </button>
                    </div>
                    <div class="card-back bg-white border-4 border-indigo-600 rounded-3xl flex flex-col items-center justify-center p-6 shadow-inner">
                        <p id="quiz-r" class="text-indigo-500 font-bold text-lg mb-2"></p>
                        <p id="quiz-a" class="text-3xl font-black text-slate-800"></p>
                    </div>
                </div>
            </div>
            <button onclick="loadRandomWord()" class="w-full py-4 bg-white border-2 border-indigo-600 text-indigo-600 rounded-2xl font-black shadow-lg active:scale-[0.98] transition-all">
                NEXT WORD
            </button>
        </div>

        <section class="bg-white rounded-3xl p-5 shadow-sm border border-gray-100 mb-6">
            <h3 class="text-sm font-bold text-gray-400 mb-3 ml-1">å¿«é€Ÿæ–°å¢</h3>
            <div class="grid grid-cols-2 gap-3 mb-3">
                <input id="word" type="text" placeholder="å–®å­—" class="bg-gray-50 p-3 rounded-xl outline-none focus:ring-2 ring-indigo-300">
                <input id="reading" type="text" placeholder="å‡å" class="bg-gray-50 p-3 rounded-xl outline-none focus:ring-2 ring-indigo-300">
            </div>
            <input id="meaning" type="text" placeholder="ä¸­æ–‡æ„æ€" class="w-full bg-gray-50 p-3 rounded-xl mb-3 outline-none focus:ring-2 ring-indigo-300">
            <div class="flex gap-3">
                <select id="category" class="bg-gray-50 px-4 rounded-xl text-sm font-bold text-gray-500 border-none outline-none">
                    <option>åè©</option>
                    <option>å‹•è©</option>
                    <option>å½¢å®¹è©</option>
                    <option>å…¶ä»–</option>
                </select>
                <button onclick="addWord()" class="flex-1 bg-slate-800 text-white py-3 rounded-xl font-bold hover:bg-black transition shadow-lg">åŠ å…¥æ¸…å–®</button>
            </div>
        </section>

        <div class="flex gap-2 overflow-x-auto mb-4 pb-2">
            <button onclick="setFilter('å…¨éƒ¨')" class="filter-btn active-filter px-6 py-2 rounded-full bg-white border text-xs font-black shadow-sm transition-all">å…¨éƒ¨</button>
            <button onclick="setFilter('åè©')" class="filter-btn px-6 py-2 rounded-full bg-white border text-xs font-black shadow-sm transition-all">åè©</button>
            <button onclick="setFilter('å‹•è©')" class="filter-btn px-6 py-2 rounded-full bg-white border text-xs font-black shadow-sm transition-all">å‹•è©</button>
            <button onclick="setFilter
